<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco-PULSE - Sustainability Quiz</title> 
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 1000;
            width: 80%;
            max-width: 500px;
            text-align: center;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 999;
        }
        .pie-chart {
            width: 250px;
            height: 250px;
            background: conic-gradient(green 0%, green var(--percentage, 0%), red var(--percentage, 0%), red 100%);
            border-radius: 50%;
            margin: 2rem auto;
            transition: background 1s ease-in-out;
        }
        .score {
            font-size: 3rem;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 1.5rem;
        }
        .answer-option {
            display: flex;
            justify-content: space-between;
        }
        .answer-option.correct {
            color: green;
        }
        .answer-option.incorrect {
            color: red;
        }
        .answer-option p {
            margin: 0;
        }
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-green-600 text-white p-4">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold">Sustainability Quiz</h1>
        </div>
    </header>
    <main class="container mx-auto py-8">
        <section class="text-center mb-12">
            <h2 class="text-3xl font-bold mb-4">Test Your Knowledge on Sustainability</h2>
            <p class="text-gray-700">Take our quiz to see how much you know about recycling, climate change, and eco-friendly practices.</p>
        </section>
        <section class="bg-white p-8 rounded-lg shadow-md">
            <form id="quiz-form">
                <div class="mb-6">
                    <h3 class="text-xl font-bold mb-2">1. What is the most commonly recycled material?</h3>
                    <div>
                        <input class="mr-2" id="q1a" name="q1" type="radio" value="a"/>
                        <label for="q1a">A. Plastic</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q1b" name="q1" type="radio" value="b"/>
                        <label for="q1b">B. Glass</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q1c" name="q1" type="radio" value="c"/>
                        <label for="q1c">C. Paper</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q1d" name="q1" type="radio" value="d"/>
                        <label for="q1d">D. Aluminum</label>
                    </div>
                </div>
                <div class="mb-6">
                    <h3 class="text-xl font-bold mb-2">2. Which gas is primarily responsible for global warming?</h3>
                    <div>
                        <input class="mr-2" id="q2a" name="q2" type="radio" value="a"/>
                        <label for="q2a">A. Oxygen</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q2b" name="q2" type="radio" value="b"/>
                        <label for="q2b">B. Nitrogen</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q2c" name="q2" type="radio" value="c"/>
                        <label for="q2c">C. Carbon Dioxide</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q2d" name="q2" type="radio" value="d"/>
                        <label for="q2d">D. Hydrogen</label>
                    </div>
                </div>
                <div class="mb-6">
                    <h3 class="text-xl font-bold mb-2">3. What is a simple way to reduce your carbon footprint?</h3>
                    <div>
                        <input class="mr-2" id="q3a" name="q3" type="radio" value="a"/>
                        <label for="q3a">A. Drive more often</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q3b" name="q3" type="radio" value="b"/>
                        <label for="q3b">B. Use energy-efficient appliances</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q3c" name="q3" type="radio" value="c"/>
                        <label for="q3c">C. Leave lights on</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q3d" name="q3" type="radio" value="d"/>
                        <label for="q3d">D. Use disposable products</label>
                    </div>
                </div>
                <div class="mb-6">
                    <h3 class="text-xl font-bold mb-2">4. What type of energy is considered renewable?</h3>
                    <div>
                        <input class="mr-2" id="q4a" name="q4" type="radio" value="a"/>
                        <label for="q4a">A. Coal</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q4b" name="q4" type="radio" value="b"/>
                        <label for="q4b">B. Solar</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q4c" name="q4" type="radio" value="c"/>
                        <label for="q4c">C. Natural Gas</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q4d" name="q4" type="radio" value="d"/>
                        <label for="q4d">D. Nuclear</label>
                    </div>
                </div>
                <div class="mb-6">
                    <h3 class="text-xl font-bold mb-2">5. Which action helps reduce waste?</h3>
                    <div>
                        <input class="mr-2" id="q5a" name="q5" type="radio" value="a"/>
                        <label for="q5a">A. Buying more plastic</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q5b" name="q5" type="radio" value="b"/>
                        <label for="q5b">B. Using reusable bags</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q5c" name="q5" type="radio" value="c"/>
                        <label for="q5c">C. Disposing everything in the trash</label>
                    </div>
                    <div>
                        <input class="mr-2" id="q5d" name="q5" type="radio" value="d"/>
                        <label for="q5d">D. Leaving food waste on the ground</label>
                    </div>
                </div>
                <div class="text-center">
                    <button type="button" class="bg-blue-600 text-white py-2 px-6 rounded-lg text-xl" onclick="submitQuiz()">Submit Quiz</button>
                </div>
            </form>
        </section>
    </main>

    <!-- Popup for Results -->
    <div id="popup" class="popup">
        <h2 class="text-3xl font-bold mb-4">Your Sustainability Score</h2>
        <p id="score-result" class="score">You scored: 0/5</p>

        <!-- Pie chart -->
        <div id="pie-chart" class="pie-chart"></div>

        <button onclick="closePopup()" class="bg-red-600 text-white py-2 px-4 rounded mt-4">Close</button>
    </div>
    
    <!-- Overlay for Popup -->
    <div id="overlay" class="overlay"></div>
    
    <script>
        // Correct answers for the quiz
        const correctAnswers = {
            q1: 'a', // Plastic
            q2: 'c', // Carbon Dioxide
            q3: 'b', // Use energy-efficient appliances
            q4: 'b', // Solar
            q5: 'b', // Using reusable bags
        };

        function submitQuiz() {
            const form = document.getElementById('quiz-form');
            let score = 0;

            // Check answers
            for (let i = 1; i <= 5; i++) {
                const selectedOption = form.querySelector(`input[name="q${i}"]:checked`);
                if (selectedOption && selectedOption.value === correctAnswers[`q${i}`]) {
                    score++;
                }
            }

            // Show the popup with the result
            showPopup(score);
        }

        function showPopup(score) {
            // Calculate the percentage score
            const percentage = (score / 5) * 100;
            const scoreText = document.getElementById('score-result');
            scoreText.textContent = `You scored: ${score}/5`;

            // Update the pie chart
            const pieChart = document.getElementById('pie-chart');
            pieChart.style.setProperty('--percentage', `${percentage}%`);

            // Show the popup and overlay
            document.getElementById('popup').style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }

        function closePopup() {
            // Hide the popup and overlay
            document.getElementById('popup').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }

        // Close popup when clicking on overlay
        document.getElementById('overlay').addEventListener('click', closePopup);
    </script>
</body>
</html>
